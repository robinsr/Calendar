<!DOCTYPE html>
<html>
    <head>
        <title>CSV to Calendar</title>
        <script src="moment.js"></script>
    </head>
    <body>
        <div id="calendar"></div>
    </body>
    <script>

        var calendar = (function(){
            var date = moment();
            
            var tableElement = document.getElementById('calendar');
            var dayName = {
                0:'Sunday',
                1:'Monday',
                2:'Tuesday',
                3:'Wednesday',
                4:'Thursday',
                5:'Friday',
                6:'Saturday'
            }
            makeWeekRow = function(){
                var tr = document.createElement('tr');
                for (i=0;i<7;i++){
                    var td = document.createElement('td');
                    var className = "Day-"+dayName[i];
                    td.setAttribute('class',className);
                    td.appendChild(document.createTextNode(dayName[i]));
                    tr.appendChild(td);
                }
                return tr;
            }
            return {
                
                loadCalendarView : function(){
                    console.log(date);
                    var table = document.createElement('table');
                    
                    for (j=0;j<6;j++){
                        console.log('making row');
                        table.appendChild(makeWeekRow());
                    }
                    
                    tableElement.appendChild(table);
                }    
        
            }
        })();
        
         window.onload = function(){
            calendar.loadCalendarView();   
        }
    </script>
</html>